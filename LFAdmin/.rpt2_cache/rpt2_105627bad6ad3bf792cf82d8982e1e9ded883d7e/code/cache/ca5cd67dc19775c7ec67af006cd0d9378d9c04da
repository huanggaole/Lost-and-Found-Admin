{
  "code": "import Aid from \"../script/Aid\";\r\nvar Customer_Status;\r\n(function (Customer_Status) {\r\n    Customer_Status[Customer_Status[\"Walkin\"] = 0] = \"Walkin\";\r\n    Customer_Status[Customer_Status[\"Lining\"] = 1] = \"Lining\";\r\n    Customer_Status[Customer_Status[\"Waiting\"] = 2] = \"Waiting\";\r\n    Customer_Status[Customer_Status[\"Leaving\"] = 3] = \"Leaving\";\r\n})(Customer_Status || (Customer_Status = {}));\r\nexport default class Customer extends Laya.Sprite {\r\n    constructor(_main) {\r\n        super();\r\n        this.main = _main;\r\n        this.x = 240;\r\n        let box = this.addComponent(Laya.BoxCollider);\r\n        let rb = this.addComponent(Laya.RigidBody);\r\n        box.width = this.width = 150;\r\n        this.height = 150;\r\n        box.height = 150;\r\n        box.x = 0;\r\n        box.y = 0;\r\n        let rdmitem = Math.floor(Math.random() * this.main.loseItems.length);\r\n        this.searchfor = this.main.loseItems[rdmitem];\r\n        let searchsprite = this.main.getChildByName(this.searchfor);\r\n        this.main.loseItems = this.main.loseItems.filter(item => item != this.searchfor);\r\n        this.timeleft = 20;\r\n        this.timeleftlbl = new Laya.Label();\r\n        this.lostItemsp = new Laya.Sprite();\r\n        this.lostItemsp.width = 50;\r\n        this.lostItemsp.height = 50;\r\n        this.lostItemsp.texture = searchsprite.texture;\r\n        this.timeleftlbl.text = \"patience：\" + this.timeleft;\r\n        this.timeleftlbl.y = 0;\r\n        this.timeleftlbl.x = 60;\r\n        this.lostItemsp.y = 0;\r\n        this.addChild(this.timeleftlbl);\r\n        this.addChild(this.lostItemsp);\r\n        this.status = Customer_Status.Walkin;\r\n        Customer.CustomerList.push(this);\r\n    }\r\n    destroy() {\r\n        Aid.aidItems = Aid.aidItems.filter(item => item != this.searchfor);\r\n        super.destroy();\r\n        Customer.CustomerList = Customer.CustomerList.filter(item => item != this);\r\n        this.main.updateScore(this.timeleft);\r\n    }\r\n    onAwake() {\r\n        this.loadImage(\"comp/customer.png\");\r\n        this.timer.loop(500, this, () => {\r\n            this.timeleft -= 1;\r\n            this.timeleftlbl.text = \"patience：\" + this.timeleft;\r\n            if (this.timeleft <= 0) {\r\n                this.timer.clearAll(this);\r\n                this.main.updateHP(-1);\r\n                this.main.loseItems.push(this.searchfor);\r\n                this.destroy();\r\n            }\r\n        });\r\n    }\r\n}\r\nCustomer.CustomerList = [];\r\n",
  "references": [
    "/Users/huanggaole/Lost-and-Found-Admin/LFAdmin/src/scene/GameScene.ts",
    "/Users/huanggaole/Lost-and-Found-Admin/LFAdmin/src/script/Aid.ts"
  ]
}
